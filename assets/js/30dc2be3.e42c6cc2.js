"use strict";(self.webpackChunkPikiwiDB_Pika_=self.webpackChunkPikiwiDB_Pika_||[]).push([[3717],{7771:(s,t,e)=>{e.r(t),e.d(t,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var n=e(4848),i=e(8453);const o={title:"Pika 3.5 \u53c2\u6570\u4f18\u5316\u624b\u518c",sidebar_position:3},a="Pika 3.5 \u53c2\u6570\u4f18\u5316\u624b\u518c #1970",c={id:"\u6027\u80fd\u4e0e\u4f18\u5316/Pika 3.5 \u53c2\u6570\u4f18\u5316\u624b\u518c/index",title:"Pika 3.5 \u53c2\u6570\u4f18\u5316\u624b\u518c",description:"1970",source:"@site/docs/\u6027\u80fd\u4e0e\u4f18\u5316/Pika 3.5 \u53c2\u6570\u4f18\u5316\u624b\u518c/index.md",sourceDirName:"\u6027\u80fd\u4e0e\u4f18\u5316/Pika 3.5 \u53c2\u6570\u4f18\u5316\u624b\u518c",slug:"/\u6027\u80fd\u4e0e\u4f18\u5316/Pika 3.5 \u53c2\u6570\u4f18\u5316\u624b\u518c/",permalink:"/docs/\u6027\u80fd\u4e0e\u4f18\u5316/Pika 3.5 \u53c2\u6570\u4f18\u5316\u624b\u518c/",draft:!1,unlisted:!1,editUrl:"https://github.com/pikiwidb/website/tree/main/docs/\u6027\u80fd\u4e0e\u4f18\u5316/Pika 3.5 \u53c2\u6570\u4f18\u5316\u624b\u518c/index.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Pika 3.5 \u53c2\u6570\u4f18\u5316\u624b\u518c",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Redis \u4e0e Pika scan \u6027\u80fd\u5bf9\u6bd4",permalink:"/docs/\u6027\u80fd\u4e0e\u4f18\u5316/Redis \u4e0e Pika scan \u6027\u80fd\u5bf9\u6bd4/"},next:{title:"Pika \u4f18\u5316\u6848\u4f8b",permalink:"/docs/\u6027\u80fd\u4e0e\u4f18\u5316/Pika \u4f18\u5316\u6848\u4f8b/"}},r={},d=[{value:"Replies: 1 comment",id:"replies-1-comment",level:2}];function l(s){const t={a:"a",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",ul:"ul",...(0,i.R)(),...s.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"pika-35-\u53c2\u6570\u4f18\u5316\u624b\u518c-1970",children:"Pika 3.5 \u53c2\u6570\u4f18\u5316\u624b\u518c #1970"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://github.com/AlexStocks",children:"AlexStocks"})," started this conversation in ",(0,n.jsx)(t.a,{href:"https://github.com/OpenAtomFoundation/pika/discussions/categories/general",children:"General"})]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970#top",children:"Pika 3.5 \u53c2\u6570\u4f18\u5316\u624b\u518c"})," #1970"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsxs)(t.a,{href:"https://github.com/AlexStocks",children:[(0,n.jsx)(t.img,{src:"https://avatars.githubusercontent.com/u/7959374?s=40&v=4",alt:"@AlexStocks"})," AlexStocks"]})}),"\n",(0,n.jsx)(t.p,{children:"Sep 11, 2023 \xb7 1 comment"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970#top",children:"Return to top"})}),"\n",(0,n.jsx)(t.p,{children:"Discussion options"}),"\n",(0,n.jsx)(t.p,{children:"Quote reply"}),"\n",(0,n.jsx)(t.p,{children:"edited"}),"\n",(0,n.jsx)(t.h2,{id:""}),"\n",(0,n.jsxs)(t.p,{children:["[",(0,n.jsx)(t.img,{src:"https://avatars.githubusercontent.com/u/7959374?s=64&v=4",alt:""})]}),"\n",(0,n.jsx)(t.p,{children:"AlexStocks"}),"\n",(0,n.jsxs)(t.p,{children:["](",(0,n.jsx)(t.a,{href:"https://github.com/AlexStocks)%5BSep",children:"https://github.com/AlexStocks)[Sep"})," 11, 2023](",(0,n.jsx)(t.a,{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970#discussion-5614484",children:"https://github.com/OpenAtomFoundation/pika/discussions/1970#discussion-5614484"}),")"]}),"\n",(0,n.jsx)(t.p,{children:"Maintainer"}),"\n",(0,n.jsx)(t.p,{children:"-"}),"\n",(0,n.jsx)("table",{class:"d-block",role:"presentation","data-paste-markdown-skip":"",children:(0,n.jsx)("tbody",{class:"d-block js-translation-source","data-target-translation-id":"5614484","data-target-translation-type":"discussion",children:(0,n.jsx)("tr",{class:"d-block",children:(0,n.jsx)("td",{class:"d-block color-fg-default comment-body markdown-body js-comment-body",children:(0,n.jsxs)("ul",{dir:"auto",children:[(0,n.jsx)("li",{children:"1 \u4e0d\u8981\u4f7f\u7528\u538b\u7f29\uff0csnappy::internaluncompress \u5360\u7528\u8f83\u9ad8\uff1b"}),(0,n.jsx)("li",{children:"2 \u5173\u95ed binlog\uff1b"}),(0,n.jsx)("li",{children:"3 \u8c03\u9ad8 write-buffer-size\uff1b"}),(0,n.jsx)("li",{children:"4 Cluster \u6a21\u5f0f\u4e0b\u628a slot \u6570\u76ee\u8c03\u6574\u4e3a 128\uff0c\u4e0d\u8981\u4f7f\u7528 1024\uff1b"}),(0,n.jsx)("li",{children:"5 \u8c03\u5927 compaction \u7ebf\u7a0b\u6570\u76ee\uff1b"}),(0,n.jsx)("li",{children:"6 \u7f13\u5b58\u4f7f\u7528\u573a\u666f\u4e0b\uff0c\u53ef\u4ee5\u52a8\u6001\u5173\u95ed WAL\uff1b"})]})})})})}),"\n",(0,n.jsxs)(t.p,{children:["Beta Was this translation helpful? ",(0,n.jsx)(t.a,{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970#",children:"Give feedback."})]}),"\n",(0,n.jsx)(t.p,{children:"1 You must be logged in to vote"}),"\n",(0,n.jsx)(t.p,{children:"All reactions"}),"\n",(0,n.jsx)(t.h2,{id:"replies-1-comment",children:"Replies: 1 comment"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970?sort=old",children:"Oldest"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970?sort=new",children:"Newest"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970?sort=top",children:"Top"})}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"Comment options"}),"\n",(0,n.jsx)(t.p,{children:"Quote reply"}),"\n",(0,n.jsx)(t.p,{children:"edited by Mixficsol"}),"\n",(0,n.jsx)(t.h3,{id:"-1"}),"\n",(0,n.jsxs)(t.p,{children:["[",(0,n.jsx)(t.img,{src:"https://avatars.githubusercontent.com/u/7959374?s=64&v=4",alt:""})]}),"\n",(0,n.jsx)(t.p,{children:"AlexStocks"}),"\n",(0,n.jsxs)(t.p,{children:["](",(0,n.jsx)(t.a,{href:"https://github.com/AlexStocks)%5BOct",children:"https://github.com/AlexStocks)[Oct"})," 23, 2023](",(0,n.jsx)(t.a,{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970#discussioncomment-7357996",children:"https://github.com/OpenAtomFoundation/pika/discussions/1970#discussioncomment-7357996"}),")"]}),"\n",(0,n.jsx)(t.p,{children:"Maintainer Author"}),"\n",(0,n.jsx)(t.p,{children:"-"}),"\n",(0,n.jsx)("table",{class:"d-block",role:"presentation","data-paste-markdown-skip":"",children:(0,n.jsx)("tbody",{class:"d-block js-translation-source","data-target-translation-id":"7357996","data-target-translation-type":"comment",children:(0,n.jsx)("tr",{class:"d-block",children:(0,n.jsxs)("td",{class:"d-block color-fg-default comment-body markdown-body js-comment-body",children:[(0,n.jsxs)("p",{dir:"auto",children:["from ",(0,n.jsx)("a",{class:"issue-link js-issue-link","data-error-text":"Failed to load title","data-id":"1908090783","data-permission-text":"Title is private","data-url":"https://github.com/OpenAtomFoundation/pika/issues/2008","data-hovercard-type":"issue","data-hovercard-url":"/OpenAtomFoundation/pika/issues/2008/hovercard?comment_id=1775012080&comment_type=issue_comment",href:"https://github.com/OpenAtomFoundation/pika/issues/2008#issuecomment-1775012080",children:"#2008 (comment)"}),":"]}),(0,n.jsx)("p",{dir:"auto",children:"based on v3.5.1\uff0c you can optimize some parameters as follows."}),(0,n.jsxs)("p",{dir:"auto",children:["1 Adjust ",(0,n.jsx)("code",{class:"notranslate",children:"max-background-flushes"})," and ",(0,n.jsx)("code",{class:"notranslate",children:"max-background-compaction"})," to 4 to increase the number of threads for compaction and flushdb. Adjust max-background-jobs to 8.",(0,n.jsx)("br",{}),"2 Adjust the ",(0,n.jsx)("code",{class:"notranslate",children:"block-cache"})," to be 60% of the memory allocated to the Pika instance.",(0,n.jsx)("br",{}),"3 Uncomment ",(0,n.jsx)("code",{class:"notranslate",children:"share-block-cache"})," and set it to yes.",(0,n.jsx)("br",{})," Adjust ",(0,n.jsx)("code",{class:"notranslate",children:"thread-num"})," to 80% of the CPU cores of the Pika instance.",(0,n.jsx)("br",{}),"5 Adjust ",(0,n.jsx)("code",{class:"notranslate",children:"thread-pool-size"})," to CPU cores * 1.5.",(0,n.jsx)("br",{}),"6 Set ",(0,n.jsx)("code",{class:"notranslate",children:"rate-limiter-bandwidth"})," to 2000Mib/s for gigabit Ethernet and 10000Mib/s for 10-gigabit Ethernet",(0,n.jsx)("p",{dir:"auto",children:"in Chinese:"}),(0,n.jsxs)("ol",{dir:"auto",children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{class:"notranslate",children:"max-background-flushes"})," \u548c ",(0,n.jsx)("code",{class:"notranslate",children:"max-backgroud-compaction"}),"\u53ef\u4ee5\u8c03\u6574\u5230 4\uff0c\u63d0\u9ad8 compaction \u548c flushdb \u7684\u7ebf\u7a0b\u6570\uff0c ",(0,n.jsx)("code",{class:"notranslate",children:"max-backgroumd-jobs"}),"\u8c03\u6574\u5230 8"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{class:"notranslate",children:"block-cache"}),"\u7684\u5927\u5c0f\u53ef\u4ee5\u8c03\u6574\u4e3a\u5206\u7ed9 Pika \u5b9e\u4f8b\u5185\u5b58\u7684 60%"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{class:"notranslate",children:"share-block-cache"}),"\u89e3\u9664\u6ce8\u91ca\uff0c\u6539\u4e3ayes"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{class:"notranslate",children:"thread-num"}),"\u8c03\u6574\u4e3a Pika \u5b9e\u4f8b\u7684 CPU \u6838\u6570\u7684 80%"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{class:"notranslate",children:"thread-pool-size"}),"\u8c03\u6574\u4e3a CPU \u6838\u6570 * 1.5"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{class:"notranslate",children:"rate-limiter-bandwidth"}),"\uff1a\u5343\u5146\u7f51\u53612000Mib/s \u4e07\u5146\u7f51\u5361\uff1a10000Mib/s"]})]})]})]})})})})]})}function h(s={}){const{wrapper:t}={...(0,i.R)(),...s.components};return t?(0,n.jsx)(t,{...s,children:(0,n.jsx)(l,{...s})}):l(s)}},8453:(s,t,e)=>{e.d(t,{R:()=>a,x:()=>c});var n=e(6540);const i={},o=n.createContext(i);function a(s){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof s?s(t):{...t,...s}}),[t,s])}function c(s){let t;return t=s.disableParentContext?"function"==typeof s.components?s.components(i):s.components||i:a(s.components),n.createElement(o.Provider,{value:t},s.children)}}}]);