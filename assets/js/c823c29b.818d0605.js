"use strict";(self.webpackChunkPikiwiDB_Pika_=self.webpackChunkPikiwiDB_Pika_||[]).push([[321],{3560:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>d});var r=n(4848),l=n(8453);const t={title:"pika_port \u8fc1\u79fb\u5de5\u5177",slug:"Pika-Tools-Port-Bin",authors:[{name:"\u4e8e\u96e8",title:"Pika \u5f00\u6e90\u793e\u533a"}],hide_table_of_contents:!1},s=void 0,o={permalink:"/blog/Pika-Tools-Port-Bin",source:"@site/blog/2020-04-26-Pika-Tools-Port-Bin.md",title:"pika_port \u8fc1\u79fb\u5de5\u5177",description:"\u9879\u76ee\u4f5c\u8005\uff1a",date:"2020-04-26T00:00:00.000Z",tags:[],readingTime:2.56,hasTruncateMarker:!1,authors:[{name:"\u4e8e\u96e8",title:"Pika \u5f00\u6e90\u793e\u533a"}],frontMatter:{title:"pika_port \u8fc1\u79fb\u5de5\u5177",slug:"Pika-Tools-Port-Bin",authors:[{name:"\u4e8e\u96e8",title:"Pika \u5f00\u6e90\u793e\u533a"}],hide_table_of_contents:!1},unlisted:!1,prevItem:{title:"Pika Blackwidow \u5f15\u64ce\u6570\u636e\u5b58\u50a8\u683c\u5f0f",permalink:"/blog/pika-blackwidow"}},a={authorsImageUrls:[void 0]},d=[{value:"\u9879\u76ee\u4f5c\u8005\uff1a",id:"\u9879\u76ee\u4f5c\u8005",level:2},{value:"\u9002\u7528\u7248\u672c\uff1a",id:"\u9002\u7528\u7248\u672c",level:2},{value:"\u9879\u76ee\u5730\u5740\uff1a",id:"\u9879\u76ee\u5730\u5740",level:2},{value:"\u4e8c\u8fdb\u5236\u5305\uff1a",id:"\u4e8c\u8fdb\u5236\u5305",level:2},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd",level:2},{value:"\u5f00\u53d1\u80cc\u666f\uff1a",id:"\u5f00\u53d1\u80cc\u666f",level:2},{value:"\u5b9e\u73b0\uff1a",id:"\u5b9e\u73b0",level:2},{value:"trysync\u7ebf\u7a0b",id:"trysync\u7ebf\u7a0b",level:3},{value:"binlog_receiver\u7ebf\u7a0b",id:"binlog_receiver\u7ebf\u7a0b",level:3},{value:"migrator\u7ebf\u7a0b",id:"migrator\u7ebf\u7a0b",level:3},{value:"sender\u7ebf\u7a0b",id:"sender\u7ebf\u7a0b",level:3},{value:"\u4f7f\u7528\u5e2e\u52a9\uff1a",id:"\u4f7f\u7528\u5e2e\u52a9",level:2}];function c(e){const i={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h2,{id:"\u9879\u76ee\u4f5c\u8005",children:"\u9879\u76ee\u4f5c\u8005\uff1a"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.a,{href:"https://github.com/alexstocks",children:"AlexStocks"})}),"\n",(0,r.jsx)(i.h2,{id:"\u9002\u7528\u7248\u672c",children:"\u9002\u7528\u7248\u672c\uff1a"}),"\n",(0,r.jsx)(i.p,{children:"3.1 \u548c 2.x"}),"\n",(0,r.jsx)(i.h2,{id:"\u9879\u76ee\u5730\u5740",children:"\u9879\u76ee\u5730\u5740\uff1a"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.a,{href:"https://github.com/ipixiu/pika-tools",children:"https://github.com/ipixiu/pika-tools"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.a,{href:"https://github.com/Axlgrep/pika-tools",children:"https://github.com/Axlgrep/pika-tools \u957f\u671f\u7ef4\u62a4\u5730\u5740\u9700\u81ea\u884c\u7f16\u8bd1"})}),"\n",(0,r.jsx)(i.h2,{id:"\u4e8c\u8fdb\u5236\u5305",children:"\u4e8c\u8fdb\u5236\u5305\uff1a"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.a,{href:"https://github.com/ipixiu/pika-port-bin",children:"https://github.com/ipixiu/pika-port-bin"})}),"\n",(0,r.jsx)(i.h2,{id:"\u529f\u80fd",children:"\u529f\u80fd\uff1a"}),"\n",(0,r.jsx)(i.p,{children:"\u5c06Pika\u4e2d\u7684\u6570\u636e\u5728\u7ebf\u8fc1\u79fb\u5230Pika\u3001Redis\uff08\u652f\u6301\u5168\u91cf\u3001\u589e\u91cf\u540c\u6b65\uff09"}),"\n",(0,r.jsx)(i.h2,{id:"\u5f00\u53d1\u80cc\u666f",children:"\u5f00\u53d1\u80cc\u666f\uff1a"}),"\n",(0,r.jsx)(i.p,{children:"\u4e4b\u524dPika\u9879\u76ee\u5b98\u65b9\u63d0\u4f9b\u7684pika_to_redis\u5de5\u5177\u4ec5\u652f\u6301\u79bb\u7ebf\u5c06Pika\u7684DB\u4e2d\u7684\u6570\u636e\u8fc1\u79fb\u5230Pika\u3001Redis, \u4e14\u65e0\u6cd5\u589e\u91cf\u540c\u6b65\uff0c\u8be5\u5de5\u5177\u53ef\u4ee5\u76f4\u63a5\u4f2a\u88c5\u4e3a\u4e00\u4e2aPika\u7684\u4ece\u5e93\uff0c\u5c06\u4e3b\u5e93\u6570\u636e\u901a\u8fc7\u540c\u6b65\u83b7\u53d6\u5e76\u8f6c\u53d1\u7ed9Pika\u3001Redis\uff0c\u540c\u65f6\u5e76\u652f\u6301\u589e\u91cf\u540c\u6b65"}),"\n",(0,r.jsx)(i.h2,{id:"\u5b9e\u73b0",children:"\u5b9e\u73b0\uff1a"}),"\n",(0,r.jsx)(i.h3,{id:"trysync\u7ebf\u7a0b",children:"trysync\u7ebf\u7a0b"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"\u5c1d\u8bd5\u4e0e\u4e3b\u5e93\u5efa\u7acb\u540c\u6b65\u5173\u7cfb"}),"\n",(0,r.jsx)(i.li,{children:"\u5982\u679c\u9700\u8981\u5168\u540c\u6b65\uff0c\u5219\u5728\u63a5\u6536\u5230master\u7684db\u4e4b\u540e\uff0c\u542f\u52a8migrator\u548csender\u7ebf\u7a0b\u5c06db\u91cc\u9762\u7684\u6570\u636e\u53d1\u9001\u7ed9Pika\u3001Redis"}),"\n",(0,r.jsx)(i.li,{children:"\u542f\u52a8Slaveping\u7ebf\u7a0b\u5b9a\u671f\u7ed9\u4e3b\u5e93\u53d1\u9001\u5fc3\u8df3\uff0c\u5b8c\u6210\u5efa\u7acb\u4e3b\u4ece\u5173\u7cfb"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"binlog_receiver\u7ebf\u7a0b",children:"binlog_receiver\u7ebf\u7a0b"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"\u63a5\u6536\u4e3b\u5e93\u53d1\u9001\u8fc7\u6765\u7684binlog\u5e76\u4e14\u5c06\u5176\u89e3\u6790\u6210redis\u547d\u4ee4"}),"\n",(0,r.jsx)(i.li,{children:"\u5c06redis\u547d\u4ee4\u8f6c\u53d1\u7ed9Pika\u3001Redis"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"migrator\u7ebf\u7a0b",children:"migrator\u7ebf\u7a0b"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"\u626b\u63cf\u4e0d\u540c\u6570\u636e\u7c7b\u578b\u7684\u5206\u5e93"}),"\n",(0,r.jsx)(i.li,{children:"\u5c06key\u8fdb\u884c\u89e3\u6790\u6210\u54cd\u5e94\u6570\u636ePika\u3001redis\u6307\u4ee4"}),"\n",(0,r.jsx)(i.li,{children:"\u5c06\u89e3\u6790\u597d\u7684redis\u6307\u4ee4\u52a0\u8f7d\u5230sender\u7684\u53d1\u9001buf\u4e2d"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"sender\u7ebf\u7a0b",children:"sender\u7ebf\u7a0b"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"\u4ece\u53d1\u9001buf\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u4ee5\u975e\u963b\u585e\u65b9\u5f0f\u5411Pika\u3001redis\u53d1\u9001\u6570\u636e"}),"\n",(0,r.jsx)(i.li,{children:"\u63a5\u6536Pika\u3001redis\u8fd4\u56de\u7684\u7ed3\u679c\u5e76\u89e3\u6790\uff0c\u5982\u679c\u51fa\u73b0\u9519\u8bef\u5219\u663e\u793a\u9519\u8bef\u7ed3\u679c"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"\u4f7f\u7528\u5e2e\u52a9",children:"\u4f7f\u7528\u5e2e\u52a9\uff1a"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"Usage: \n       pika_port [-h] [-t local_ip -p local_port -i master_ip -o master_port\n                  -m forward_ip -n forward_port -x forward_thread_num -y forward_passwd]\n                  -f filenum -s offset -w password -r rsync_dump_path  -l log_path\n        -h     -- show this help\n        -t     -- local host ip(OPTIONAL default: 127.0.0.1)\n        -p     -- local port(OPTIONAL)\n        -i     -- master ip(OPTIONAL default: 127.0.0.1)\n        -o     -- master port(REQUIRED)\n        -m     -- forward ip(OPTIONAL default: 127.0.0.1)\n        -n     -- forward port(REQUIRED)\n        -x     -- forward thread num(OPTIONAL default: 1)\n        -y     -- forward password(OPTIONAL)\n        -f     -- binlog filenum(OPTIONAL default: local offset)\n        -s     -- binlog offset(OPTIONAL default: local offset)\n        -w     -- password for master(OPTIONAL)\n        -r     -- rsync dump data path(OPTIONAL default: ./rsync_dump)\n        -l     -- local log path(OPTIONAL default: ./log)\n        -b     -- max batch number when port rsync dump data (OPTIONAL default: 512)\n        -d     -- daemonize(OPTIONAL)\n  example: ./pika_port -t 127.0.0.1 -p 12345 -i 127.0.0.1 -o 9221 -m 127.0.0.1 -n 6379 -x 7 -f 0 -s 0 -w abc -l ./log -r ./rsync_dump -b 512 -d\n"})})]})}function h(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>s,x:()=>o});var r=n(6540);const l={},t=r.createContext(l);function s(e){const i=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),r.createElement(t.Provider,{value:i},e.children)}}}]);